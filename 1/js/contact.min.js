document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-form"),t=document.querySelectorAll(".faq-question");function r(e,t){n(e);const r=document.createElement("div");r.className="form-error",r.textContent=t,r.style.color="#ff6b6b",r.style.fontSize="0.875rem",r.style.marginTop="0.25rem",e.parentNode.insertBefore(r,e.nextSibling),e.style.borderColor="#ff6b6b"}function n(e){const t=e.parentNode.querySelector(".form-error");t&&t.remove(),e.style.borderColor=""}t.forEach(e=>{e.addEventListener("click",function(){const e="true"===this.getAttribute("aria-expanded"),r=this.nextElementSibling;t.forEach(e=>{e!==this&&(e.setAttribute("aria-expanded","false"),e.nextElementSibling.classList.remove("show"))}),this.setAttribute("aria-expanded",!e),r.classList.toggle("show")})}),e&&e.addEventListener("submit",function(t){t.preventDefault(),function(){let t=!0;const o=e.querySelectorAll("input, select, textarea");return o.forEach(e=>{if(e.hasAttribute("required")&&""===e.value.trim()?(t=!1,r(e,"Detta fält är obligatoriskt")):n(e),"email"===e.type&&""!==e.value.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim())||(t=!1,r(e,"Ange en giltig e-postadress"))}}),t}()&&(console.log("Contact form submitted successfully"),function(){const t=document.createElement("div");t.className="form-success",t.innerHTML='\n            <div style="background: var(--color-accent); color: var(--color-surface); padding: 1rem; border-radius: var(--radius); text-align: center; margin-top: 1rem;">\n                <p style="margin: 0; font-weight: 500;">Tack för ditt meddelande! Vi återkommer så snart som möjligt.</p>\n            </div>\n        ',e.parentNode.insertBefore(t,e),setTimeout(()=>{t.remove()},5e3)}(),e.reset())});const o=e?.querySelectorAll("input, textarea");o?.forEach(e=>{e.addEventListener("blur",function(){this.hasAttribute("required")&&""===this.value.trim()?r(this,"Detta fält är obligatoriskt"):n(this)}),e.addEventListener("input",function(){n(this)})})});