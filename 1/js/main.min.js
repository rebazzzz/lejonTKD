function setActiveNavLink(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(t=>{t.getAttribute("href")===e?t.classList.add("active"):t.classList.remove("active")})}document.addEventListener("DOMContentLoaded",function(){if(document.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])').forEach(e=>{e.addEventListener("focus",function(){this.style.outline=`2px solid ${getComputedStyle(document.documentElement).getPropertyValue("--color-accent")}`,this.style.outlineOffset="2px"}),e.addEventListener("blur",function(){this.style.outline="none"})}),"IntersectionObserver"in window){const e=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(t.isIntersecting){const n=t.target;n.src=n.dataset.src,n.classList.remove("lazy"),e.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}),document.addEventListener("DOMContentLoaded",function(){setActiveNavLink();document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",function(){const e=this.querySelector('button[type="submit"]');e&&(e.disabled=!0,e.innerHTML="<span>Skickar...</span>",setTimeout(()=>{e.disabled=!1,e.innerHTML="<span>Skicka</span>"},5e3))})});const e=document.querySelector(".hero");if(e){const t=e.querySelectorAll(".hero-background");if(t.length<2)return;const n=[{webp:"1/images/webp/mainPic2.webp",fallback:"1/images/mainPic2.jpg"},{webp:"1/images/webp/mainPic3.webp",fallback:"1/images/mainPic3.jpg"},{webp:"1/images/webp/mainPic4.webp",fallback:"1/images/mainPic4.jpg"},{webp:"1/images/webp/mainPic5.webp",fallback:"1/images/mainPic5.jpg"}];let a=0,i=0;const l=function(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}();t[0].style.backgroundImage=`url('${l?n[0].webp:n[0].fallback}')`,t[0].classList.add("visible"),t[1].style.backgroundImage=`url('${l?n[1].webp:n[1].fallback}')`,a=1,setInterval(function(){const e=(i+1)%2,c=l?n[a].webp:n[a].fallback;t[e].style.backgroundImage=`url('${c}')`,t[e].classList.add("visible"),t[i].classList.remove("visible"),i=e,a=(a+1)%n.length},4e3)}}),document.addEventListener("DOMContentLoaded",()=>{let e="";e=window.location.pathname.includes("/1/")?"navbar.html":"1/navbar.html";let t="";window.location.hostname.includes("github.io")&&(t="/lejonTKD"),fetch(e).then(e=>e.text()).then(e=>{const n=e.replace(/(href|src)="\//g,`$1="${t}/`);document.getElementById("navbar-placeholder").innerHTML=n;const a=window.location.pathname.endsWith("/index.html")||window.location.pathname.endsWith("/lejonTKD/");if(a){const e=document.querySelector("#navbar-placeholder img.logo-image");e&&e.getAttribute("src").startsWith("images")&&(e.src=t+"/1/"+e.getAttribute("src"))}if(window.location.pathname.includes("/1/")){const e=document.querySelector("#navbar-placeholder a.logo");e&&(e.href=t+"/index.html")}if(!window.location.pathname.includes("/1/")){document.querySelectorAll("#navbar-placeholder ul.nav-menu a.nav-link").forEach(e=>{const n=e.getAttribute("href");n.startsWith("http")||n.startsWith("https")||n.startsWith("mailto:")||n.startsWith("#")||(n.startsWith("1/")?e.href=t+"/"+n:e.href=t+"/1/"+n)})}const i=document.querySelector("#navbar-placeholder ul.nav-menu");if(i){let e=document.getElementById("home-link");e||(e=document.createElement("li"),e.innerHTML=`<a id="home-link" href="${t}/index.html" class="nav-link">Hem</a>`,i.insertBefore(e,i.firstChild)),e.style.display=a?"none":"block"}const l=document.querySelector("#navbar-placeholder .nav-toggle"),c=document.querySelector("#navbar-placeholder .nav-menu");if(l&&c){l.addEventListener("click",function(){const e="true"===l.getAttribute("aria-expanded");l.setAttribute("aria-expanded",!e),c.classList.toggle("active")});document.querySelectorAll("#navbar-placeholder .nav-link").forEach(e=>{e.addEventListener("click",()=>{l.setAttribute("aria-expanded","false"),c.classList.remove("active")})})}})}),document.addEventListener("DOMContentLoaded",()=>{let e="";e=window.location.pathname.includes("/1/")?"footer.html":"1/footer.html";let t="";window.location.hostname.includes("github.io")&&(t="/lejonTKD"),fetch(e).then(e=>e.text()).then(e=>{const n=e.replace(/(href|src)="\//g,`$1="${t}/`);document.getElementById("footer-placeholder").innerHTML=n;if(!window.location.pathname.includes("/1/")){document.querySelectorAll("#footer-placeholder a").forEach(e=>{const n=e.getAttribute("href");!n||n.startsWith("http")||n.startsWith("mailto:")||n.startsWith("#")||(n.startsWith("1/")?e.href=`${t}/${n}`:e.href=`${t}/1/${n}`)})}}).catch(e=>console.log("Footer loading error:",e))}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".lazy"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}})},{rootMargin:"0px 0px 50px 0px",threshold:0});e.forEach(e=>t.observe(e))}),document.addEventListener("DOMContentLoaded",function(){const e=[{webp:"1/images/webp/513651603_23894520133538274_5640907701813658302_n.webp",fallback:"1/images/513651603_23894520133538274_5640907701813658302_n.jpg"},{webp:"1/images/webp/IMG_1903.webp",fallback:"1/images/IMG_1903.PNG"},{webp:"1/images/webp/489041866_9520107234739470_2961360016254588005_n.webp",fallback:"1/images/489041866_9520107234739470_2961360016254588005_n.jpg"},{webp:"1/images/webp/IMG_1901.webp",fallback:"1/images/IMG_1901.PNG"},{webp:"1/images/webp/IMG_6129.webp",fallback:"1/images/IMG_6129.jpg"},{webp:"1/images/webp/IMG_1904.webp",fallback:"1/images/IMG_1904.PNG"},{webp:"1/images/webp/491964974_9623052441111615_6977924920370143104_n.webp",fallback:"1/images/491964974_9623052441111615_6977924920370143104_n.jpg"},{webp:"1/images/webp/advancednew.webp",fallback:"1/images/advancednew.jpg"},{webp:"1/images/webp/490855416_9570495323033994_5315674643087459799_n.webp",fallback:"1/images/490855416_9570495323033994_5315674643087459799_n.jpg"},{webp:"1/images/webp/482209172_9364902986926563_5916584812675029144_n.webp",fallback:"1/images/482209172_9364902986926563_5916584812675029144_n.jpg"},{webp:"1/images/webp/490916081_9562715080478685_3297657162050413043_n.webp",fallback:"1/images/490916081_9562715080478685_3297657162050413043_n.jpg"},{webp:"1/images/webp/487543765_9467208896695971_8944467126548948374_n.webp",fallback:"1/images/487543765_9467208896695971_8944467126548948374_n.jpg"},{webp:"1/images/webp/487674476_9467202060029988_4815281988279844292_n.webp",fallback:"1/images/487674476_9467202060029988_4815281988279844292_n.jpg"},{webp:"1/images/webp/514271693_23893602583630029_530679452399934868_n.webp",fallback:"1/images/514271693_23893602583630029_530679452399934868_n.jpg"},{webp:"1/images/webp/513780330_23894519890204965_6951999527634970080_n.webp",fallback:"1/images/513780330_23894519890204965_6951999527634970080_n.jpg"},{webp:"1/images/webp/540419627_24413309771659305_470074930240162789_n.webp",fallback:"1/images/540419627_24413309771659305_470074930240162789_n.jpg"},{webp:"1/images/webp/593543667_25240798478910426_305354356074607486_n.webp",fallback:"1/images/593543667_25240798478910426_305354356074607486_n.jpg"},{webp:"1/images/webp/IMG_1902.webp",fallback:"1/images/IMG_1902.PNG"},{webp:"1/images/webp/allaalder.webp",fallback:"1/images/allaalder.jpg"},{webp:"1/images/webp/elite.webp",fallback:"1/images/elite.jpg"},{webp:"1/images/webp/gemenskap.webp",fallback:"1/images/gemenskap.jpg"},{webp:"1/images/webp/IMG_0477.webp",fallback:"1/images/IMG_0477.jpg"},{webp:"1/images/webp/IMG_5161.webp",fallback:"1/images/IMG_5161.jpg"},{webp:"1/images/webp/IMG_7552.webp",fallback:"1/images/IMG_7552.jpg"},{webp:"1/images/webp/IMG_7963.webp",fallback:"1/images/IMG_7963.JPG"},{webp:"1/images/webp/IMG_9214.webp",fallback:"1/images/IMG_9214.jpg"},{webp:"1/images/webp/mainPic2.webp",fallback:"1/images/mainPic2.jpg"},{webp:"1/images/webp/mainPic3.webp",fallback:"1/images/mainPic3.jpg"},{webp:"1/images/webp/mainPic4.webp",fallback:"1/images/mainPic4.jpg"},{webp:"1/images/webp/mainPic5.webp",fallback:"1/images/mainPic5.jpg"},{webp:"1/images/webp/vinst.webp",fallback:"1/images/vinst.jpg"},{webp:"1/images/webp/483735717_9358447500905445_6877543920309236774_n.webp",fallback:"1/images/483735717_9358447500905445_6877543920309236774_n.jpg"}];const t=function(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}();function n(e){return t?e.webp:e.fallback}let a=0,i=[];function l(e,t){const n=document.getElementById("lightbox"),l=document.querySelector(".lightbox-img"),c=document.getElementById("lightbox-counter");i=t,a=t.indexOf(e),n.classList.add("active"),l.src=e,c.textContent=`${a+1} / ${t.length}`,document.body.style.overflow="hidden"}function c(){document.getElementById("lightbox").classList.remove("active"),document.body.style.overflow=""}function o(e){if(0===i.length)return;a="next"===e?(a+1)%i.length:(a-1+i.length)%i.length;const t=document.querySelector(".lightbox-img"),n=document.getElementById("lightbox-counter");t.src=i[a],n.textContent=`${a+1} / ${i.length}`}const s=document.getElementById("view-all-btn"),r=document.getElementById("gallery-modal"),d=document.querySelector(".modal-close");function m(){r.classList.remove("active"),document.body.style.overflow="",g()}function b(){const e=document.createElement("div");return e.className="back-to-top",e.id="back-to-top",e.setAttribute("aria-label","Tillbaka till toppen"),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),document.body.appendChild(e),e.addEventListener("click",p),e.addEventListener("keypress",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),p())}),e}function p(){const e=document.getElementById("gallery-modal");e&&e.classList.contains("active")&&e.scrollTo({top:0,behavior:"smooth"})}function g(){const e=document.getElementById("back-to-top");e&&(e.classList.remove("visible"),e.style.display="none")}s&&s.addEventListener("click",()=>{r.classList.add("active"),document.body.style.overflow="hidden";document.getElementById("back-to-top")||b()}),d&&d.addEventListener("click",()=>{m()}),r&&r.addEventListener("click",e=>{e.target===r&&m()}),r&&r.addEventListener("scroll",()=>{const e=document.getElementById("back-to-top");r.classList.contains("active")&&e&&(r.scrollTop>200?(e.style.display="flex",e.classList.add("visible"),e.style.opacity="1"):(e.style.display="none",e.classList.remove("visible")))});const u=document.querySelector(".lightbox .close"),w=document.getElementById("lightbox-prev"),f=document.getElementById("lightbox-next");u&&u.addEventListener("click",c),w&&w.addEventListener("click",()=>o("prev")),f&&f.addEventListener("click",()=>o("next"));const h=document.getElementById("lightbox");h&&h.addEventListener("click",e=>{e.target===h&&c()}),document.addEventListener("keydown",e=>{const t=document.getElementById("lightbox");t&&t.classList.contains("active")&&("Escape"===e.key?c():"ArrowLeft"===e.key?o("prev"):"ArrowRight"===e.key&&o("next"));const n=document.getElementById("gallery-modal");n&&n.classList.contains("active")&&"Escape"===e.key&&(n.classList.remove("active"),document.body.style.overflow="",g())}),function(){const t=document.getElementById("main-gallery");if(!t)return;const a=function(e){const t=[...e];for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}(e).slice(0,8);t.innerHTML="",a.forEach((e,a)=>{const i=document.createElement("div");i.className="gallery-item";n(e);i.innerHTML=`\n                <picture>\n                    <source srcset="${e.webp}" type="image/webp">\n                    <img src="${e.fallback}" alt="Lion Taekwondo IF tr채ning och t채vling - Bild ${a+1}" loading="lazy">\n                </picture>\n            `,t.appendChild(i)}),function(){const e=document.querySelectorAll("#main-gallery .gallery-item img"),t=Array.from(e).map(e=>e.src);e.forEach(e=>{e.addEventListener("click",()=>{l(e.src,t)})})}()}(),function(){const t=document.getElementById("modal-gallery");t&&(t.innerHTML="",e.forEach((e,a)=>{const i=document.createElement("div");i.className="modal-gallery-item";n(e);i.innerHTML=`\n                <picture>\n                    <source srcset="${e.webp}" type="image/webp">\n                    <img src="${e.fallback}" alt="Lion Taekwondo IF tr채ning, t채vling och gemenskap - Galleri bild ${a+1}" loading="lazy">\n                </picture>\n            `,t.appendChild(i)}),function(){const e=document.querySelectorAll("#modal-gallery .modal-gallery-item img"),t=Array.from(e).map(e=>e.src);e.forEach(e=>{e.addEventListener("click",()=>{l(e.src,t)})})}())}()});